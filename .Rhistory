CTVsub <- CTVstats[, c(3, 8:11, 13, 21)]
CTVbnd <- bind_cols(ctvDS, CTVsub)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screenName1)
CTVbnd <- bind_cols(ctvDS, CTVsub)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screenName1)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$account_created_at)
names(shredCTV)
shredCTV <- CTVbnd[, c(1:12, 14:17)]
#get the order of the columns for both DFs
names(botDS)
names(shredCTV)
#correct and set order for shredCTV
shredCTV <- shredCTV[, c(1,2,16,14,13,15,3,4,5,6,7,8,9,10,11,12)]
names(shredCTV)
names(botDS)
botDS <- botDS[,-11]
names(botDS)
names(shredCTV)
botnames <- names(botDS)
colnames(shredCTV)
colnames(shredCTV) <- botnames
names(shredCTV)
names(botDS)
shredCTV$mean_time_betwn_tweets = as.integer(shredCTV$acct_age/shredCTV$statusesCount)
shredCTV$acct_age/shredCTV$statusesCount
str(shredCTV)
shredCTV$mean_time_betwn_tweets = as.integer(shredCTV$acct_age/shredCTV$statusesCount)
CTVbnd <- bind_cols(ctvDS, CTVsub)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screenName1)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$account_created_at)
shredCTV <- CTVbnd[, c(1:12, 14:17)]
#get the order of the columns for both DFs
names(botDS)
names(shredCTV)
#correct and set order for shredCTV
shredCTV <- shredCTV[, c(1,2,16,14,13,15,3,4,5,6,7,8,9,10,11,12)]
names(shredCTV)
names(botDS)
botDS <- botDS[,-11]
names(botDS)
readRDS("capstone dataset/botDS", botDS)
getwd()
readRDS("capstone dataset/botDS.20180129", botDS)
names(botDS)
names(tempDS)
View(botDS)
botDS <- tempDS
botDS$acct_created <- ymd_hms(botDS$acct_created)
sessionInfo()
options(scipen = 999)
View(botDS)
readRDS("botDS", emme)
readRDS("botDS", zed)
names(zed)
zed <- readRDS("botDS")
names(zed)
View(botDS)
View(botDS.20180129)
botDS$acct_created <- botDS.20180129$acct_created
botDS <- botDS[,-11]
names(botDS)
names(shredCTV)
saveRDS("capstone dataset/botDS", botDS)
saveRDS(botDS, "capstone dataset/botDS")
View(shredCTV)
View(CTVbnd)
CTVsub <- CTVstats[, c(3, 8:11, 13, 21)]
CTVbnd <- bind_cols(ctvDS, CTVsub)
View(CTVbnd)
View(CTVsub)
View(ctvDS)
ctvDS <- data.frame(CTV$screen_name, CTV$bot, CTV$acct_created, "julianCreated", "acct_age", CTV$langDiv, "Count", "mean_time_betwn_tweets", "App", "App.BoN", "mCount", "Month")
ctvnames <- names(ctvDS)
ctvnames[1] <- "screenName"
ctvnames[2] <- "bot"
ctvnames[3] <- "acct_created"
ctvnames[4] <- "julianCreated"
ctvnames[5] <- "acct_age"
ctvnames[6] <- "langDiv"
ctvnames[7] <- "Count"
ctvnames[8] <- "mean_time_betwn_tweets"
ctvnames[9] <- "App"
ctvnames[10] <- "App.BoN"
ctvnames[11] <- "mCount"
ctvnames[12] <- "Month"
ctvDS$acct_age <- abs(as.numeric(ctvDS$acct_age, units = "mins"))
colnames(ctvDS)
colnames(ctvDS) <- ctvnames
View(ctvDS)
CTVbnd <- bind_cols(ctvDS, CTVsub)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screenName1)
View(CTVbnd)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screen_name)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$account_created_at)
shredCTV <- CTVbnd[, c(1:12, 14:17)]
#get the order of the columns for both DFs
names(botDS)
names(shredCTV)
#correct and set order for shredCTV
shredCTV <- shredCTV[, c(1,2,16,14,13,15,3,4,5,6,7,8,9,10,11,12)]
names(shredCTV)
names(botDS)
shredCTV <- shredCTV[,-16]
names(shredCTV)
names(botDS)
names(shredCTV)
botnames <- names(botDS)
colnames(shredCTV)
colnames(shredCTV) <- botnames
names(shredCTV)
names(botDS)
difftime(anchorDate - shredCTV$julianCreated, units = "mins")
difftime(anchorDate - shredCTV$julianCreated)
shredCTV$julianCreated <- julian(shredCTV$acct_created, origin = as.Date("1970-01-01"))
difftime(anchorDate - shredCTV$julianCreated, units = "mins")
shredCTV$acct_age <- anchorDate - shredCTV$julianCreated
CTVbnd$acct_age <- anchorDate - CTVbnd$julianCreated
CTVbnd$acct_age <- 0
CTVbnd$acct_age <- anchorDate - CTVbnd$julianCreated
CTVbnd$acct_age <- as.integer(anchorDate - CTVbnd$julianCreated)
shredCTV$acct_age <- abs(anchorDate - shredCTV$julianCreated)
View(shredCTV)
shredCTV$Count <- 0
shredCTV$mean_time_betwn_tweets <- 0
shredCTV$mCount <- 0
View(shredCTV)
CTV$source
shredCTV$App <- CTV$source
View(shredCTV)
shredCTV$App.BoN <- 0
shredCTV$mean_time_betwn_tweets = as.integer(shredCTV$acct_age/shredCTV$statusesCount)
View(shredCTV)
as.integer(shredCTV$acct_age/shredCTV$statusesCount)
View(shredCTV)
View(ctvDS)
ctvDS$julianCreated <- 0
ctvDS$acct_age <- 0
ctvDS$Count <- 0
ctvDS$mean_time_betwn_tweets <- 0
ctvDS$App <- CTV$source
ctvDS$App.BoN <- 0
ctvDS$mCount <- 0
ctvDS <- ctvDS[,-16]
View(ctvDS)
ctvDS <- ctvDS[,-12]
saveRDS(ctvDS, "capstone dataset/ctvDS")
rowMeans(divLang, na.rm = TRUE)
saveRDS(ctvDS, "capstone dataset/ctvDS")
ctvDS %>%
divLang
divLang[mapply(is.nan, divLang)] <- NA
divLang[mapply(is.infinite, divLang)] <- NA
divLang
divMeans
divMeans <- rowMeans(divLang, na.rm = TRUE)
ctvDS$langDiv <- divMeans
ctvDS$julianCreated <-julian(ctvDS$acct_created, origin = as.Date("1970-01-01"))
View(ctvDS)
difftime(anchorDate - ctvDS$julianCreated, units = "mins")
difftime(anchorDate - ctvDS$julianCreated)
sessionInfo()
ctvDS$acct_age <- anchorDate - ctvDS$julianCreated
View(ctvDS)
ctvDS$acct_age <- abs(anchorDate - ctvDS$julianCreated)
ctvDS$acct_age <- abs(as.numeric(ctvDS$acct_age, units = "mins"))
ctvDS$mean_time_betwn_tweets = as.integer(ctvDS$acct_age/ctvDS$statusesCount)
ctvnames <- names(ctvDS)
names(ctvDS)
CTVsub <- CTVstats[, c(3, 8:11, 13, 21)]
CTVbnd <- bind_cols(ctvDS, CTVsub)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screen_name)
View(CTVbnd)
View(CTVsub)
names(CTVstats)
CTVsub <- CTVstats[, c(3, 8:11, 21)]
CTVbnd <- bind_cols(ctvDS, CTVsub)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screen_name)
View(CTVbnd)
sessionInfo()
library(tidyverse)
library(lubridate)
knitr::opts_chunk$set(echo = TRUE)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$account_created_at)
ymd_hms(CTVbnd$account_created_at)
CTVbnd$acct_created1 <- ymd_hms(CTVbnd$acct_created1)
CTVbnd$acct_created <- ymd_hms(CTVbnd$acct_created)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$account_created_at)
#check that the bind worked as desired
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screen_name)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$acct_created1)
CTVbnd %>% filter(CTVbnd$screenName != CTVbnd$screen_name)
CTVbnd %>% filter(CTVbnd$acct_created != CTVbnd$acct_created1)
shredCTV <- CTVbnd[, c(1:12, 14:17)]
#get the order of the columns for both DFs
names(botDS)
names(shredCTV)
#correct and set order for shredCTV
shredCTV <- shredCTV[, c(1,2,16,14,13,15,3,4,5,6,7,8,9,10,11,12)]
names(shredCTV)
names(botDS)
shredCTV <- CTVbnd[, c(1:12, 13, 14:17)]
#correct and set order for shredCTV
shredCTV <- shredCTV[, c(1,2,16,14,13,15,3,4,5,6,7,8,9,10,11,12)]
names(shredCTV)
names(botDS)
shredCTV <- shredCTV[, -16]
names(shredCTV)
names(botDS)
botnames <- names(botDS)
colnames(shredCTV)
colnames(shredCTV) <- botnames
names(shredCTV)
names(botDS)
View(shredCTV)
shredCTV$mean_time_betwn_tweets = as.integer(shredCTV$acct_age/shredCTV$statusesCount)
saveRDS(shredCTV, "capstone dataset/shredCTV")
View(methodCount)
View(botDS)
options(scipen = 999)
botDS$mean_time_betwn_tweets[mapply(is.infinite, botDS$mean_time_betwn_tweets)] <- NA
shredCTV$mean_time_betwn_tweets = shredCTV$acct_age/shredCTV$statusesCount
View(shredCTV)
appcount <- shredCTV%>%group_by(App)%>%summarize(Count=n())%>%arrange(desc(Count))
View(appcount)
left_join(shredCTV, appcount)
left_join(shredCTV, appcount, by = "App")
shredCTV <- left_join(shredCTV, appcount, by = "App")
shredCTV$Count.x <- shredCTV$Count.y
names(shredCTV)
colnames(shredCTV[11]) <- "Count"
names(shredCTV)
shredCTV <- shredCTV[,=16]
shredCTV <- shredCTV[,-16]
s.names  < -names(shredCTV)
s.names <- names(shredCTV)
s.names[11]
s.names[11] <- "Count"
s.names[11]
names(shredCTV)
s.names
colnames(shredCTV) <- s.names
View(shredCTV)
names(botDS)
names(botDS[, 1:10, 12, 11, 13:15])
names(botDS[, c(1:10, 12, 11, 13:15)])
names(botDS[, c(1:10, 12, 13, 11, 14, 15)])
botDS <- botDS[, c(1:10, 12, 13, 11, 14, 15)]
shredCTV <- shredCTV[, c(1:10, 12, 13, 11, 14, 15)]
names(shredCTV)
saveRDS(shredCTV, "capstone dataset/shredCTV")
saveRDS(botDS, "capstone dataset/botDS")
View(shredCTV)
View(methodCount)
View(usr_df)
View(CTV)
CTV %>% group_by(screen_name) %>% unique(App)
CTV %>% group_by(screen_name) %>% summarise(count=n())
methodCountCTV  <- CTV %>% group_by(screen_name) %>% summarise(count=n())
left_join(shredCTV, methodCountCTV)
left_join(shredCTV, methodCountCTV, by = c("screenName" = "screen_name"))
shredCTV <- left_join(shredCTV, methodCountCTV, by = c("screenName" = "screen_name"))
str(methodCountCTV)
str(shredCTV)
emme <- left_join(shredCTV, methodCountCTV, by = c("screenName" = "screen_name"))
head(emme)
View(shredCTV)
shredCTV$mCount <- shredCTV$count
names(shredCTV)
shredCTV <- shredCTV[, -16]
CTV %>% group_by(screen_name) %>% summarise(count=n())
rm(emme)
CTV %>% group_by(screen_name) %>% unique(App)
CTV %>% group_by(screen_name)
shredCTV %>% group_by(screen_name)
shredCTV %>% group_by(screenName)
shredCTV %>% group_by(screenName) %>% count=n(App)
shredCTV %>% group_by(screenName) %>% n(App)
?n
shredCTV %>% group_by(screenName) %>% summarise(App, n())
?summarise
shredCTV %>% group_by(screenName) %>% summarise(App)
shredCTV %>% group_by(screenName) %>% App[n()]
names(shredCTV)
shredCTV %>% group_by(screenName) %>% arrange(App)
shredCTV %>% group_by(screenName) %>% arrange(App) %>% n()
shredCTV %>% group_by(screenName) %>% arrange(App) %>% summarise(count=n())
emme <- shredCTV %>% group_by(screenName) %>% arrange(App) %>% summarise(count=n())
emme
View(emme)
rm(emme)
emme <- shredCTV %>% group_by(screenName) %>% arrange(App)
View(emme)
methCount <- shredCTV %>% group_by(screenName) %>% summarise(mCount=n())
View(methCount)
methCount <- shredCTV %>% group_by(screenName) %>% group_by(App) %>% summarise(mCount=n())
View(methCount)
methCount <- shredCTV %>% group_by(App) %>% group_by(screenName) %>% summarise(mCount=n())
?group_by
shredCTV %>% group_by(screenName, App) %>% summarise(count=n())
emme <- shredCTV %>% group_by(screenName, App) %>% summarise(count=n())
View(emme)
emme <- shredCTV %>% group_by(screenName, App) %>% summarise(count=n()) %>% summarise()
View(emme)
emme <- shredCTV %>% group_by(screenName, App) %>% summarise(count=n()) %>% n()
emme <- shredCTV %>% group_by(screenName, App) %>% summarise(count=n()) %>% n(screenName)
methodCountCTV <- shredCTV %>% group_by(screenName, App) %>% summarise(count=n())
rm(emme)
View(methodCountCTV)
left_join(shredCTV, methodCountCTV, by = c("screenName", "App"))
shredCT <- left_join(shredCTV, methodCountCTV, by = c("screenName", "App"))
names(shredCTV)
names(shredCT)
shredCTV <- left_join(shredCTV, methodCountCTV, by = c("screenName", "App"))
rm(shredCT)
names(shredCTV)
shredCTV$mCount <- shredCTV$count
shredCTV <- shredCTV[,-16]
saveRDS(shredCTV, "capstone dataset/shredCTV")
<<<<<<< HEAD
sessionInfo()
library(tidyverse)
library(lubridate)
names(botDS)
names(shredCTV)
unique(botDS$screenName)
length(botDS$screenName)
range(shredCTV$mCount)
unique(shredCTV$mCount)
median(shredCTV$mCount)
arrange(shredCTV$mCount)
ascending(shredCTV$mCount)
desc(shredCTV$mCount)
?desc
desc(shredCTV$mCount)
?median
?arrange
median(unique(shredCTV$mCount))
botDS$Count
names(botDS)
View(botDS)
View(methodCount)
View(groupedTweetsDF)
View(tweetSrc)
View(tweet)
View(methodCount)
median(unique(shredCTV$mCount))
unique(shredCTV$mCount)
View(lastTweet)
View(botDS.20180129)
botDS$mCount
unique(botDS$mCount)
AppURL
library(qdapRegex)
View(CTV)
View(CTVsub)
View(appcount)
names(appcount)
range(appcount$Count)
unique(appcount$Count)
unique(shredCTV$Count)
shredCTV$App.BoN <- ifelse(shredCTV$Count >4,0,1)
View(shredCTV)
saveRDS(shredCTV, "capstone dataset/shredCTV")
options(scipen = 999)
View(shredCTV)
shredCVL <- bind_rows(botDS, shredCTV)
names(shredCVL)
View(shredCVL)
saveRDS(shredCVL, "capstone dataset/shredCVL")
library(GGally)
ggpairs(shredCVL[,-1])
unique(shredCVL$App)
=======
>>>>>>> origin/master
sessionInfo()
library(tidyverse)
library(lubridate)
library(caret)
install.packages(c("BH", "RcppParallel", "reticulate", "RGtk2"))
install.packages(c("histry", "RcppParallel", "tikzDevice", "inferr", "jtools", "memery", "meme", "phonics", "fastnet", "tatoo", "document", "roxygen2", "callr", "ggfortify"))
install.packages(c("link2GI", "matrixStats", "robotstxt", "tidygraph"))
install.packages("lira")
rm(botDS.20180129)
rm(groupedTweetsDF)
View(methodCountCTV)
shredCTV %>% group_by(screenName, App) %>% summarise(count=n())
x <- shredCTV %>% group_by(screenName, App) %>% summarise(count=n())
View(x)
methodCountCTV %>% group_by(screenName)
methodCountCTV %>% group_by(screenName) %>% n(screenName)
methodCountCTV %>% group_by(screenName) %>% n()
methodCountCTV %>% group_by(screenName) %>% summarise()
methodCountCTV %>% group_by(screenName) %>% summarise(n())
xn <- methodCountCTV %>% group_by(screenName) %>% summarise(n())
View(xn)
methodCountCTV %>% group_by(screenName) %>% shredCTV$mcount <- summarise(n())
xn <- methodCountCTV %>% group_by(screenName) %>% summarise(n())
xn <- methodCountCTV %>% group_by(screenName) %>% summarise(mCount = n())
shredCTV$mCount <- xn$mCount
?left_join
left_join(shredCTV, xn[,c("screenName", "mCount")], by = "screenName")
names(shredCTV)
shredCTV <- shredCTV[,-15]
shredCTV <- left_join(shredCTV, xn[,c("screenName", "mCount")], by = "screenName")
names(shredCTV)
knitr::opts_chunk$set(echo = TRUE)
shredCVL <- bind_rows(botDS, shredCTV)
#lets take an intital look.
summary(shredCVL)
summary(shredCVL[, c(-1, -5)])
shredCVL$bot <- factor(shredCVL$bot)
shredCVL$App.BoN <- factor(shredCVL$App.BoN)
summary(shredCVL[, -c(1, 7, 8, 12)])
in_train <- createDataPartition(y = shredCVL$bot, p = .75, list = FALSE)
training_set <- shredCVL[in_train,]
testing_set <- shredCVL[-in_train,]
tree_model = train(bot ~., method = 'rpart', data = training_set)
str(training_set)
tree_model = train(bot ~., method = 'rpart', data = training_set)
tree_model = train(bot ~., method = 'rpart', na.action = na.pass, data = training_set)
tree_model = train(bot ~., method = 'rpart', na.action = na.omit, data = training_set)
tree_model = train(bot ~., method = 'rpart', data = training_set)
tree_model = train(bot ~., method = 'rpart', na.action = na.omit, data = training_set)
?train
tree_model = train(bot ~., method = 'rpart', preProcess = -c("screenName", "App"), na.action = na.omit, data = training_set)
tree_model = train(bot ~., method = 'rpart', preProcess = c(-"screenName", -"App"), na.action = na.omit, data = training_set)
tree_model = train(bot ~., method = 'rpart', preProcess = c("screenName", "App"), na.action = na.omit, data = training_set)
install.packages(c("pmatch", "JuniperKernel", "mldr", "mldr.datasets", "fields", "networkR", "diffobj"))
install.packages("text2vac")
install.packages("text2vec")
tree_model = train(bot ~., method = 'rpart', na.action = na.omit, data = training_set)
sessionInfo()
View(tw)
rm(tw)
View(udDF)
View(usr_df)
tree_model = train(bot ~., method = 'rpart', na.action = na.omit, data = training_set, tuneLength = 10)
traceback()
tree_model = train(bot ~., method = 'rpart', na.action = na.omit, data = training_set)
traceback()
dim(in_train)
dim(training_set)
dim(testing_set)
tree_model = train(bot ~., method = 'rpart', na.action = na.exclude, data = training_set)
traceback()
tree_model = train(bot ~., method = 'rpart', na.action = na.fail, data = training_set)
tree_model = train(bot ~., method = 'rpart', data = training_set)
tree_model = train(bot ~., method = 'rpart', na.action = na.exclude, data = training_set)
traceback()
options()
bagged_model = train(bot ~., method = 'treebag', na.action = na.exclude, data = training_set)
warnings()
bagged_model = train(bot ~., method = 'treebag', na.action = na.omit, data = training_set)
shredCVL[mapply(is.nan, shredCVL)]
getOption("na.action")
tree_model = train(bot ~., method = 'rpart', na.action = na.exclude, data = training_set)
traceback()
?rpart
ix <- sample(nrow(shredCVL), 0.75*nrow(myTrain))
training <- data.frame(shredCVL[ix,])
validating <- shredCVL[-ix,]
ix <- sample(nrow(shredCVL), 0.75*nrow(shredCVL))
training <- data.frame(shredCVL[ix,])
validating <- shredCVL[-ix,]
sessionInfo()
readRDS("capstone/dataset/shredCVL")
table(shredCVL$bot)
table(shredCVL)
botDS$bot <- 1
shredCVL <- bind_rows(botDS, shredCTV)
table(shredCVL$bot)
table(shredCVL)
library(tidyverse)
shredCVL <- bind_rows(botDS, shredCTV)
table(shredCVL$bot)
in_train <- createDataPartition(shredCVL, p = .75, list = FALSE)
testing_set <- shredCVL[-in_train,]
library(rpart)
in_train <- createDataPartition(shredCVL, p = .75, list = FALSE)
library(caret)
in_train <- createDataPartition(shredCVL, p = .75, list = FALSE)
in_train <- createDataPartition(y = shredCVL$bot, p = .75, list = FALSE)
testing_set <- shredCVL[-in_train,]
training_set <- shredCVL[in_train,]
model <- rpart(formula = bot ~., data = shredCVL, method = "class")
str(training_set)
table(testing_set$bot)
table(training_set$bot)
533:121
121/654
table(testing_set$bot)
table(training_set$bot)
121/654
390/1964
121/654
390/1964
str(model)
print(model)
str(training_set)
namws(training_set)
naews(training_set)
names(training_set)
model <- rpart(formula = bot ~ -c(1,2,7,8,12,14), data = shredCVL, method = "class")
model <- rpart(formula = bot ~ c(-1, -2, -7, -8, -12, -14), data = shredCVL, method = "class")
model <- rpart(formula = bot ~ c(3,4,5,6,9,10,11,13,15), data = shredCVL, method = "class")
